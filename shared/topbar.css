:root{
  --primary:#00993d; --accent:#e303a4;
  --radius:14px; --shadow:0 2px 10px rgba(0,0,0,.12);
  --topbarH:64px; /* 由 JS 動態更新 */
}

/* 內容避免被固定導覽列擋住 */
html { scroll-padding-top: var(--topbarH); }
body { padding-top: calc(var(--topbarH) + 50px) !important; }

/* 基本 */
*{box-sizing:border-box}
a{color:inherit;text-decoration:none}

/* 綠色導覽列（固定在最上方） */
.topbar{
  position: fixed;     /* ← 改為固定 */
  top: 0; left: 0; right: 0;
  z-index: 1000;
  background: var(--primary);
  color:#fff;
  box-shadow:0 4px 16px rgba(0,0,0,.15);
}
.nav{
  max-width:1200px; margin:auto; display:flex; gap:10px;
  padding:12px 16px; align-items:center; flex-wrap:wrap;
}
.brand{ font-weight:700; margin-right:auto; font-size:1.5rem; line-height:1.3; }
.brand .slogan{ font-size:1rem; font-weight:500; color:#f0f0f0; margin-top:2px; }

.nav a.btn{
  padding:8px 16px; border-radius:999px; font-weight:700;
  background:#fff; color:var(--primary); border:2px solid #fff;
}
.nav a.btn:hover{ filter:brightness(.95); }

/* 下拉說明（桌機） */
.nav-item{ position:relative; display:inline-block; }
.dropdown-panel{
  position:absolute; top:calc(100% + 10px); left:50%;
  transform:translateX(-50%) translateY(8px);
  width:320px; max-width:85vw; background:#fff; color:#222;
  border:1px solid #e6e6e6; border-radius:12px; box-shadow:0 14px 28px rgba(0,0,0,.16);
  padding:12px 14px; line-height:1.55; font-size:.95rem;
  opacity:0; visibility:hidden; pointer-events:none;
  transition:opacity .22s ease, transform .22s ease, visibility .22s; z-index:9999;
}
.dropdown-panel::before{
  content:""; position:absolute; top:-8px; left:50%; transform:translateX(-50%);
  border-width:8px; border-style:solid; border-color:transparent transparent #fff transparent;
}
.nav-item:hover .dropdown-panel,
.nav-item:focus-within .dropdown-panel{
  opacity:1; visibility:visible; pointer-events:auto; transform:translateX(-50%) translateY(0);
}

/* 手機：按鈕與抽屜 */
.nav-links{ display:flex; gap:10px; align-items:center; }
.hamburger{
  display:none; background:transparent; border:none; cursor:pointer;
  width:44px; height:44px; border-radius:8px; display:grid; place-items:center; margin-left:8px;
}
.hamburger span{ display:block; width:22px; height:2px; background:#fff; margin:3px 0; transition:.2s; }

/* 手機背景遮罩與抽屜，從綠色導覽列底下開始 */
.backdrop{
  position:fixed; left:0; right:0; bottom:0; top:var(--topbarH);
  background:rgba(0,0,0,.35); backdrop-filter:saturate(120%) blur(2px);
  z-index:998; display:none;
}
.backdrop.show{ display:block; }

.mobile-menu{
  position:fixed; right:-86%; width:86%; max-width:420px;
  top:var(--topbarH); height:calc(100% - var(--topbarH));
  background:#fff; color:#222; box-shadow:-6px 0 20px rgba(0,0,0,.2);
  z-index:999; display:flex; flex-direction:column; padding:12px 14px 24px;
  transition:right .25s ease; overflow-y:auto; -webkit-overflow-scrolling:touch; overscroll-behavior:contain;
  padding-bottom:max(24px, env(safe-area-inset-bottom));
}
.mobile-menu.open{ right:0; }
.mobile-menu-header{
  position:sticky; top:0; background:#fff; z-index:1;
  display:flex; align-items:center; justify-content:space-between;
  padding:6px 6px 10px; border-bottom:1px solid #eee; margin-bottom:6px;
  font-weight:700; color:#0b6c37;
}
.mobile-menu .close{ background:transparent; border:none; font-size:18px; cursor:pointer; line-height:1; }

.m-link{
  display:block; padding:12px; border-radius:10px; margin-top:8px;
  background:#f7fff9; border:1px solid #d9f2e3; color:#0b6c37; font-weight:700;
}
.m-desc{
  font-size:.92rem; color:#555; line-height:1.6; margin:6px 4px 2px 4px;
  border-left:3px solid #d9f2e3; padding-left:10px;
}

/* 手機 RWD */
.m-br{ display:none; }
@media (max-width:900px){
  .nav-links{ display:none !important; }
  .dropdown-panel{ display:none !important; }
  .nav{ flex-wrap:nowrap; align-items:center; }
  .brand{ margin-right:0; flex:1 1 auto; min-width:0; white-space:normal; line-height:1.25; }
  .hamburger{
    display:inline-flex; align-items:center; gap:6px; width:auto; height:auto; margin-left:auto;
    padding:10px 14px; background:#fff; color:var(--primary); border:2px solid #fff; border-radius:999px;
    box-shadow:0 1px 6px rgba(0,0,0,.08); font-weight:700; line-height:1;
  }
  .hamburger span{ display:none; }
  .hamburger::after{ content:"查看更多 ▸"; }
  .hamburger:hover{ filter:brightness(.95); }
  .hamburger:focus-visible{ outline:3px solid #1b5e3a; outline-offset:2px; }
  .m-br{ display:inline; } .m-br::after{ content:"\A"; white-space:pre; }
}

/* 桌機微調 */
@media (min-width:901px){
  .nav{ padding:20px 16px; }
  .nav-links{ display:flex !important; }
  .hamburger{ display:none !important; }
}
